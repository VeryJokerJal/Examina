{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning",
            "Microsoft.EntityFrameworkCore": "Warning"
        }
    },
    "AllowedHosts": "*",

    // MySQL数据库连接配置
    "ConnectionStrings": {
        "DefaultConnection": "Server=localhost;Database=ExaminaDb;User=root;Password=123456;CharSet=utf8mb4;",
        "MySqlConnection": "Server=localhost;Database=ExaminaDb;User=root;Password=123456;CharSet=utf8mb4;"
    },

    // JWT认证配置
    "Jwt": {
        "SecretKey": "ExaminaSecretKeyI*T>zG,.Ky@0:KjTjs,6QN2/hEcOdSB+o1@GZIE=-I!-O}0zlx",
        "Issuer": "ExaminaApp",
        "Audience": "ExaminaUsers",
        "AccessTokenExpirationMinutes": 10080,  // 7天
        "RefreshTokenExpirationDays": 30,       // 30天
        "ClockSkewMinutes": 5,                  // 时钟偏差容忍度
        "RequireHttpsMetadata": false,          // 开发环境设为false
        "ValidateIssuerSigningKey": true,
        "ValidateIssuer": true,
        "ValidateAudience": true,
        "ValidateLifetime": true
    },

    // Cookie认证配置（管理员和教师）
    "Cookie": {
        "LoginPath": "/admin/login",
        "LogoutPath": "/admin/logout",
        "AccessDeniedPath": "/admin/access-denied",
        "ExpireTimeSpan": 480,                  // 8小时（分钟）
        "SlidingExpiration": true,
        "RequireHttps": false,                  // 生产环境应设为true
        "SameSite": "Lax"
    },

    // 腾讯云短信服务配置
    "TencentSms": {
        "SDKAppID": "1401002302",
        "AppKey": "71810c9af89e7484fef3ac637974d407",
        "TemplateID": "2453935",
        "SignName": "石家庄炳烛教育",
        "SecretId": "AKIDfEbrZGn7HI6h9VrAGB8wZ0U6ZuGWdcbc",
        "SecretKey": "xc7g7NSiq14yhFf7QZYO2Vn5ED0fASYR",
        "Region": "ap-beijing",
        "Enabled": true,
        "CodeValidMinutes": 5,              // 验证码有效期（分钟）
        "SendIntervalSeconds": 60,          // 发送间隔（秒）
        "MaxDailyCount": 10,                // 每日最大发送次数
        "MaxAttemptCount": 5,               // 最大验证尝试次数
        "RetryCount": 3,                    // 发送重试次数
        "RetryDelayMs": 1000                // 重试延迟（毫秒）
    },

    // 微信开放平台配置
    "WeChat": {
        "AppId": "wx41cdfae8482b1879",
        "AppSecret": "e32c1a09f91108720f14df6ab70f59ce",
        "CallbackDomain": "qiuzhenbd.com",
        "QrCodeExpireMinutes": 5,               // 二维码有效期
        "Enabled": true
    },

    // 设备安全配置
    "DeviceSecurity": {
        "MaxDevicesPerStudent": 1,
        "MaxDevicesPerTeacher": 3,
        "MaxDevicesPerAdmin": 5,
        "DeviceBindingRequired": true,
        "DeviceTokenExpirationDays": 30,
        "TrustDeviceAfterDays": 7,              // 7天后设备变为受信任
        "AllowDeviceUnbinding": true,
        "RequireDeviceApproval": false
    },

    // 安全策略配置
    "Security": {
        "PasswordMinLength": 6,
        "PasswordRequireDigit": false,
        "PasswordRequireLowercase": false,
        "PasswordRequireUppercase": false,
        "PasswordRequireNonAlphanumeric": false,
        "MaxFailedLoginAttempts": 5,
        "LockoutTimeSpanMinutes": 15,
        "RequireEmailConfirmation": false,
        "RequirePhoneConfirmation": false
    },

    // 会话管理配置
    "SessionManagement": {
        "CleanupIntervalMinutes": 60,           // 清理间隔
        "InactiveSessionTimeoutMinutes": 480,   // 非活跃会话超时
        "MaxConcurrentSessions": 3,             // 最大并发会话
        "EnableSessionTracking": true
    }
}
