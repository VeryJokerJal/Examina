<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Examina.ViewModels.Dialogs"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="700"
        x:Class="Examina.Views.Dialogs.MockExamRulesDialog"
        x:DataType="vm:MockExamRulesViewModel"
        Title="æ¨¡æ‹Ÿè€ƒè¯•è§„åˆ™è¯´æ˜Ž"
        Width="600" Height="700"
        MinWidth="500" MinHeight="600"
        WindowStartupLocation="CenterOwner"
        CanResize="true">

    <Design.DataContext>
        <vm:MockExamRulesViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto">
        <!-- æ ‡é¢˜æ  -->
        <Border Grid.Row="0" Background="{DynamicResource SystemAccentColor}" Padding="20,15">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸ“‹" FontSize="24" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBlock Text="æ¨¡æ‹Ÿè€ƒè¯•è§„åˆ™è¯´æ˜Ž" FontSize="20" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <ScrollViewer Grid.Row="1" Padding="20">
            <StackPanel Spacing="20">
                <!-- è€ƒè¯•åŸºæœ¬ä¿¡æ¯ -->
                <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                        CornerRadius="8" Padding="20" BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“Š è€ƒè¯•åŸºæœ¬ä¿¡æ¯" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource SystemAccentColor}"/>
                        
                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="20" RowSpacing="8">
                            <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="â±ï¸" FontSize="14"/>
                                <TextBlock Text="è€ƒè¯•æ—¶é•¿:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.DurationMinutes, StringFormat={}{0} åˆ†é’Ÿ}" Foreground="{DynamicResource SystemAccentColor}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ“Š" FontSize="14"/>
                                <TextBlock Text="æ€»åˆ†å€¼:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.TotalScore, StringFormat={}{0} åˆ†}" Foreground="{DynamicResource SystemAccentColor}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="âœ…" FontSize="14"/>
                                <TextBlock Text="åŠæ ¼åˆ†æ•°:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.PassingScore, StringFormat={}{0} åˆ†}" Foreground="{DynamicResource SystemAccentColor}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ“" FontSize="14"/>
                                <TextBlock Text="é¢˜ç›®æ€»æ•°:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.TotalQuestions, StringFormat={}{0} é“}" Foreground="{DynamicResource SystemAccentColor}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ’»" FontSize="14"/>
                                <TextBlock Text="ç¼–ç¨‹é¢˜:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.ProgrammingQuestions, StringFormat={}{0} é“}" Foreground="{DynamicResource SystemAccentColor}"/>
                                <TextBlock Text="{Binding RulesInfo.ProgrammingScore, StringFormat={}(æ¯é“ {0} åˆ†)}" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="ðŸ–±ï¸" FontSize="14"/>
                                <TextBlock Text="æ“ä½œé¢˜:" FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding RulesInfo.OperationQuestions, StringFormat={}{0} é“}" Foreground="{DynamicResource SystemAccentColor}"/>
                                <TextBlock Text="{Binding RulesInfo.OperationScore, StringFormat={}(æ¯é“ {0} åˆ†)}" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- è€ƒè¯•è§„åˆ™ -->
                <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                        CornerRadius="8" Padding="20" BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“‹ è€ƒè¯•è§„åˆ™" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource SystemAccentColor}"/>
                        <ItemsControl ItemsSource="{Binding RulesInfo.Rules}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4">
                                        <TextBlock Text="â€¢" FontWeight="Bold" Foreground="{DynamicResource SystemAccentColor}" VerticalAlignment="Top" Margin="0,2,0,0"/>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" VerticalAlignment="Top"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- æ³¨æ„äº‹é¡¹ -->
                <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                        CornerRadius="8" Padding="20" BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock Text="âš ï¸ æ³¨æ„äº‹é¡¹" FontSize="16" FontWeight="SemiBold" Foreground="#FF9800"/>
                        <ItemsControl ItemsSource="{Binding RulesInfo.Notes}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4">
                                        <TextBlock Text="â€¢" FontWeight="Bold" Foreground="#FF9800" VerticalAlignment="Top" Margin="0,2,0,0"/>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" VerticalAlignment="Top"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- æ“ä½œæŒ‡å— -->
                <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                        CornerRadius="8" Padding="20" BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸŽ¯ æ“ä½œæŒ‡å—" FontSize="16" FontWeight="SemiBold" Foreground="#4CAF50"/>
                        <ItemsControl ItemsSource="{Binding RulesInfo.OperationGuide}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,4">
                                        <TextBlock Text="â€¢" FontWeight="Bold" Foreground="#4CAF50" VerticalAlignment="Top" Margin="0,2,0,0"/>
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" VerticalAlignment="Top"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- åº•éƒ¨æŒ‰é’®æ  -->
        <Border Grid.Row="2" Background="{DynamicResource SystemControlBackgroundAltHighBrush}" 
                BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
                BorderThickness="0,1,0,0" Padding="20,15">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="15">
                <Button Name="CancelButton" Command="{Binding CancelCommand}" MinWidth="100" Click="CancelButton_Click">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <TextBlock Text="âŒ" FontSize="14"/>
                            <TextBlock Text="å–æ¶ˆ"/>
                        </StackPanel>
                    </Button.Content>
                </Button>

                <Button Name="ConfirmButton" Command="{Binding ConfirmCommand}" Classes="accent" MinWidth="120" Click="ConfirmButton_Click">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <TextBlock Text="ðŸš€" FontSize="14"/>
                            <TextBlock Text="ç¡®è®¤å¼€å§‹"/>
                        </StackPanel>
                    </Button.Content>
                </Button>
            </StackPanel>
        </Border>
    </Grid>
</Window>
