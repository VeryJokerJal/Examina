<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:Examina.ViewModels.Dialogs"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="700"
        x:Class="Examina.Views.Dialogs.ComprehensiveTrainingRulesDialog"
        x:DataType="vm:ComprehensiveTrainingRulesViewModel"
        Title="ç»¼åˆå®žè®­è§„åˆ™è¯´æ˜Ž"
        Width="600" Height="700"
        MinWidth="500" MinHeight="600"
        WindowStartupLocation="CenterOwner"
        CanResize="true">

    <Design.DataContext>
        <vm:ComprehensiveTrainingRulesViewModel />
    </Design.DataContext>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="ç»¼åˆå®žè®­è§„åˆ™è¯´æ˜Ž"
                       FontSize="24"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Foreground="{DynamicResource SystemAccentColor}" />
            <TextBlock Text="è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹è§„åˆ™å’Œæ³¨æ„äº‹é¡¹ï¼Œç¡®è®¤åŽå¼€å§‹è®­ç»ƒ"
                       FontSize="14"
                       HorizontalAlignment="Center"
                       Margin="0,10,0,0"
                       Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
        </StackPanel>

        <!-- å†…å®¹åŒºåŸŸ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="20">
                
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <Border Background="{DynamicResource LayerFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="ðŸ“Š è®­ç»ƒåŸºæœ¬ä¿¡æ¯"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource SystemAccentColor}" />
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding RulesInfo.DurationMinutes, StringFormat='è®­ç»ƒæ—¶é•¿ï¼š{0} åˆ†é’Ÿ'}" />
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding RulesInfo.TotalScore, StringFormat='æ€»åˆ†ï¼š{0} åˆ†'}" />
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding RulesInfo.PassingScore, StringFormat='åŠæ ¼åˆ†æ•°ï¼š{0} åˆ†'}" />
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding RulesInfo.TotalQuestions, StringFormat='é¢˜ç›®æ€»æ•°ï¼š{0} é“'}" />
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding RulesInfo.ProgrammingQuestions, StringFormat='ç¼–ç¨‹é¢˜ï¼š{0} é“'}" />
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding RulesInfo.OperationQuestions, StringFormat='æ“ä½œé¢˜ï¼š{0} é“'}" />
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- è®­ç»ƒè§„åˆ™ -->
                <Border Background="{DynamicResource LayerFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="ðŸ“‹ è®­ç»ƒè§„åˆ™"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource SystemAccentColor}" />
                        
                        <ItemsControl ItemsSource="{Binding RulesInfo.Rules}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="0,2">
                                        <TextBlock Text="â€¢" Margin="0,0,8,0" Foreground="{DynamicResource SystemAccentColor}" />
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- æ³¨æ„äº‹é¡¹ -->
                <Border Background="{DynamicResource LayerFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="âš ï¸ æ³¨æ„äº‹é¡¹"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource SystemAccentColor}" />
                        
                        <ItemsControl ItemsSource="{Binding RulesInfo.Notes}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="0,2">
                                        <TextBlock Text="â€¢" Margin="0,0,8,0" Foreground="{DynamicResource SystemAccentColor}" />
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- æ“ä½œæŒ‡å— -->
                <Border Background="{DynamicResource LayerFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="ðŸŽ¯ æ“ä½œæŒ‡å—"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource SystemAccentColor}" />
                        
                        <ItemsControl ItemsSource="{Binding RulesInfo.OperationGuide}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="0,2">
                                        <TextBlock Text="â€¢" Margin="0,0,8,0" Foreground="{DynamicResource SystemAccentColor}" />
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- è®­ç»ƒç‰¹è‰² -->
                <Border Background="{DynamicResource LayerFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="15">
                    <StackPanel Spacing="10">
                        <TextBlock Text="âœ¨ è®­ç»ƒç‰¹è‰²"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource SystemAccentColor}" />
                        
                        <ItemsControl ItemsSource="{Binding RulesInfo.TrainingFeatures}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" Margin="0,2">
                                        <TextBlock Text="â€¢" Margin="0,0,8,0" Foreground="{DynamicResource SystemAccentColor}" />
                                        <TextBlock Text="{Binding}" TextWrapping="Wrap" />
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center" 
                    Spacing="20" 
                    Margin="0,20,0,0">
            <Button Content="ç¡®è®¤å¼€å§‹è®­ç»ƒ"
                    Command="{Binding ConfirmCommand}"
                    Background="{DynamicResource SystemAccentColor}"
                    Foreground="White"
                    Padding="20,10"
                    CornerRadius="5"
                    FontWeight="SemiBold" />
            <Button Content="å–æ¶ˆ"
                    Command="{Binding CancelCommand}"
                    Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                    Padding="20,10"
                    CornerRadius="5" />
        </StackPanel>

    </Grid>
</Window>
