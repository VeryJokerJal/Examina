<UserControl x:Class="Examina.Views.Pages.PracticeView" xmlns="https://github.com/avaloniaui" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:vm="clr-namespace:Examina.ViewModels.Pages" d:DesignHeight="600" d:DesignWidth="800" x:DataType="vm:PracticeViewModel" mc:Ignorable="d">
    <ScrollViewer Padding="0" HorizontalScrollBarVisibility="Disabled">
        <StackPanel Margin="32,24,32,32" Spacing="32">

            <!--  页面标题区域  -->
            <StackPanel Spacing="12">
                <TextBlock FontFamily="Microsoft YaHei" FontSize="32" FontWeight="Bold" Foreground="{DynamicResource SystemControlForegroundBaseHighBrush}" Text="{Binding PageTitle}" />
                <TextBlock FontFamily="Microsoft YaHei" FontSize="16" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" Opacity="0.8" Text="选择您想要进行的练习类型，提升您的技能水平" />
            </StackPanel>

            <!--  练习类型列表  -->
            <ItemsControl ItemsSource="{Binding PracticeTypes}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Spacing="10" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Name="PracticeCard" BorderThickness="2" CornerRadius="8">
                            <Border.Styles>
                                <!--  根据练习类型应用不同的样式  -->
                                <Style Selector="Border[Tag=mock-exam]">
                                    <Setter Property="Background" Value="{DynamicResource MockExamBackgroundBrush}" />
                                    <Setter Property="BorderBrush" Value="{DynamicResource MockExamHoverBrush}" />
                                </Style>
                                <Style Selector="Border[Tag=comprehensive-training]">
                                    <Setter Property="Background" Value="{DynamicResource ComprehensiveTrainingBackgroundBrush}" />
                                    <Setter Property="BorderBrush" Value="{DynamicResource ComprehensiveTrainingHoverBrush}" />
                                </Style>
                                <Style Selector="Border[Tag=special-practice]">
                                    <Setter Property="Background" Value="{DynamicResource SpecialPracticeBackgroundBrush}" />
                                    <Setter Property="BorderBrush" Value="{DynamicResource SpecialPracticeHoverBrush}" />
                                </Style>
                            </Border.Styles>

                            <Border Padding="10" CornerRadius="8" Tag="{Binding Id}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>

                                    <!--  图标区域  -->
                                    <Border Grid.Column="0" Width="64" Height="64" Margin="0,0,24,0" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" CornerRadius="16">
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="28" Text="{Binding Icon}" />
                                    </Border>

                                    <!--  内容区域  -->
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="8">
                                        <TextBlock FontFamily="Microsoft YaHei" FontSize="22" FontWeight="Bold" Tag="{Binding Id}" Text="{Binding Name}">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock[Tag=mock-exam]">
                                                    <Setter Property="Foreground" Value="{DynamicResource MockExamTextColorPrimary}" />
                                                </Style>
                                                <Style Selector="TextBlock[Tag=comprehensive-training]">
                                                    <Setter Property="Foreground" Value="{DynamicResource ComprehensiveTrainingTextColorPrimary}" />
                                                </Style>
                                                <Style Selector="TextBlock[Tag=special-practice]">
                                                    <Setter Property="Foreground" Value="{DynamicResource SpecialPracticeTextColorPrimary}" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>

                                        <TextBlock FontFamily="Microsoft YaHei" FontSize="15" LineHeight="22" Tag="{Binding Id}" Text="{Binding Description}" TextWrapping="Wrap">
                                            <TextBlock.Styles>
                                                <Style Selector="TextBlock[Tag=mock-exam]">
                                                    <Setter Property="Foreground" Value="{DynamicResource MockExamTextColorSecondary}" />
                                                </Style>
                                                <Style Selector="TextBlock[Tag=comprehensive-training]">
                                                    <Setter Property="Foreground" Value="{DynamicResource ComprehensiveTrainingTextColorSecondary}" />
                                                </Style>
                                                <Style Selector="TextBlock[Tag=special-practice]">
                                                    <Setter Property="Foreground" Value="{DynamicResource SpecialPracticeTextColorSecondary}" />
                                                </Style>
                                            </TextBlock.Styles>
                                        </TextBlock>
                                    </StackPanel>

                                    <!--  开始按钮区域  -->
                                    <StackPanel Grid.Column="2" VerticalAlignment="Center" Spacing="8">
                                        <Button MinWidth="130" Padding="24,14" Classes="accent" Command="{Binding $parent[UserControl].DataContext.StartPracticeCommand}" CommandParameter="{Binding}" Content="开始练习" CornerRadius="12" FontFamily="Microsoft YaHei" FontSize="16" FontWeight="SemiBold" IsEnabled="{Binding IsEnabled}">
                                            <Button.RenderTransform>
                                                <ScaleTransform />
                                            </Button.RenderTransform>
                                            <Button.Transitions>
                                                <Transitions>
                                                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.1" />
                                                </Transitions>
                                            </Button.Transitions>
                                            <Button.Styles>
                                                <Style Selector="Button:pointerover">
                                                    <Setter Property="RenderTransform" Value="scale(1.05)" />
                                                </Style>
                                            </Button.Styles>
                                        </Button>

                                        <!--  状态指示器  -->
                                        <TextBlock HorizontalAlignment="Center" FontFamily="Microsoft YaHei" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" IsVisible="{Binding IsEnabled}" Text="✓ 可用" />
                                        <TextBlock HorizontalAlignment="Center" FontFamily="Microsoft YaHei" FontSize="12" Foreground="{DynamicResource SystemControlForegroundBaseLowBrush}" IsVisible="{Binding !IsEnabled}" Text="⚠ 暂不可用" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <!--  底部提示信息  -->
            <Border Margin="0,16,0,0" Padding="20" Background="{DynamicResource SystemControlBackgroundChromeMediumLowBrush}" CornerRadius="12">
                <StackPanel Spacing="8">
                    <TextBlock FontFamily="Microsoft YaHei" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource SystemControlForegroundBaseHighBrush}" Text="💡 练习提示" />
                    <TextBlock FontFamily="Microsoft YaHei" FontSize="14" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" Text="• 模拟考试：完整的考试体验，包含所有题型，建议预留充足时间" />
                    <TextBlock FontFamily="Microsoft YaHei" FontSize="14" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" Text="• 综合实训：综合性练习，提升实际操作能力" />
                    <TextBlock FontFamily="Microsoft YaHei" FontSize="14" Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" Text="• 专项练习：针对特定知识点的强化训练" />
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
